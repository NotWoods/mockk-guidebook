<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Mocking start with one call, the mockk function.">

<title>Mocking | MockK Guidebook</title>
<link rel="manifest" href="/mockk-guidebook/manifest.json">
<link rel="icon" href="/mockk-guidebook/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/mockk-guidebook/book.min.745103b237c9853dec7cc6a6930b75058c5b3c455b5b3c0b19e9a8b616058f9d.css" integrity="sha256-dFEDsjfJhT3sfMamkwt1BYxbPEVbWzwLGemothYFj50=">
<script defer src="/mockk-guidebook/en.search.min.0777d0959e32a2f24bd5cc7a52d84f451c6d4ae1619172d2fb67a854e1bc8cc0.js" integrity="sha256-B3fQlZ4yovJL1cx6UthPRRxtSuFhkXLS&#43;2eoVOG8jMA="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  <meta name="monetization" content="$ilp.uphold.com/p2WKq3nJHA8w">
<script async src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>
<script async defer src='/mockk-guidebook/ads.min.js'></script>

<meta property="og:title" content='Mocking' />
<meta property="og:site_name" content='MockK Guidebook' />
<meta property="og:type" content="book" />
<meta property="og:image" content='https://notwoods.github.io/mockk-guidebook/cover/mockk-bike-iso.png' />
<meta property="og:image:width" content="1280" />
<meta property="og:image:height" content="640" />
<meta property="og:url" content='https://notwoods.github.io/mockk-guidebook/docs/mocking/' />

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@Not_Woods">
<meta name="twitter:title" content="Mocking | MockK Guidebook">
<meta name="twitter:image" content='https://notwoods.github.io/mockk-guidebook/cover/mockk-bike-iso.png'>
<meta name="twitter:description" content="Mocking start with one call, the mockk function.">

</head>

<body dir=>
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/mockk-guidebook"><span>MockK Guidebook</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>



<a href="https://tigeroakes.com">
  <svg width="135" height="20" viewBox="0 0 88 13" xmlns="http://www.w3.org/2000/svg" fill="currentColor" stroke="currentColor">
    <title>Tiger Oakes</title>
    <g transform="translate(.5 .5)">
      <path d="M0 0h12v12H0z" fill="none"/>
      <circle cx="3" cy="4" r="1.5" fill="none"/>
      <circle cx="9" cy="4" r="1.5" fill="none"/>
      <path d="M2.5 5.5V9L5 10.5m4.5-4.9V9L7 10.5" fill="none"/>
      <path d="M6 8.6L7.5 7h-3L6 8.6z" stroke="none"/>
      <path d="M86.6 3.97a.53.53 0 01-.15.17.32.32 0 01-.2.05.5.5 0 01-.26-.08l-.33-.2a2.7 2.7 0 00-.44-.2 1.9 1.9 0 00-.6-.08c-.22 0-.4.03-.56.08-.16.05-.3.12-.4.2-.1.1-.18.2-.23.33-.06.13-.08.27-.08.42 0 .2.05.35.16.47.1.13.25.24.42.33.18.1.38.17.6.24l.7.23c.23.08.46.17.7.28.22.1.42.24.6.4.18.17.32.37.42.6.1.24.16.53.16.87 0 .36-.06.7-.18 1.03a2.4 2.4 0 01-1.44 1.4 3.88 3.88 0 01-3.88-.86l.45-.73c.04-.05.08-.1.14-.13a.37.37 0 01.2-.06c.1 0 .2.04.3.12.1.08.24.16.4.26.15.1.32.17.52.25.2.08.44.12.73.12.43 0 .76-.1 1-.3.23-.2.35-.5.35-.88a.82.82 0 00-.16-.52 1.3 1.3 0 00-.42-.34c-.18-.1-.38-.17-.6-.24l-.7-.2a5.9 5.9 0 01-.68-.28 1.87 1.87 0 01-1.03-1.04 2.42 2.42 0 01.54-2.55c.22-.22.5-.4.83-.52a3.8 3.8 0 012.46.03 3 3 0 011.04.63l-.38.7zM35.07 6.55v3.3c-.4.3-.85.52-1.32.66-.47.14-.97.2-1.5.2-.66 0-1.27-.1-1.8-.3a3.77 3.77 0 01-2.26-2.18 4.4 4.4 0 01-.3-1.67c0-.6.1-1.17.3-1.68a3.8 3.8 0 012.17-2.18 5.17 5.17 0 013.48 0 3.44 3.44 0 011.23.76l-.43.7a.4.4 0 01-.27.2c-.1 0-.22 0-.35-.08l-.37-.22a3.33 3.33 0 00-1.58-.37c-.4 0-.77.08-1.1.2-.32.14-.6.33-.83.58-.23.25-.4.55-.53.9-.12.36-.18.75-.18 1.2 0 .46.06.88.2 1.24a2.4 2.4 0 001.44 1.5c.33.14.7.2 1.13.2a3.1 3.1 0 001.5-.35V7.68h-1a.3.3 0 01-.23-.08.27.27 0 01-.08-.2v-.85h2.7zm24.75 0c0 .6-.1 1.16-.3 1.66a3.88 3.88 0 01-2.13 2.2c-.5.2-1.07.3-1.68.3-.62 0-1.18-.1-1.7-.3a3.83 3.83 0 01-2.14-2.2c-.2-.5-.3-1.06-.3-1.65 0-.6.1-1.15.3-1.66a3.9 3.9 0 012.14-2.2c.5-.2 1.07-.3 1.7-.3a4.57 4.57 0 012.16.55 3.72 3.72 0 011.44 1.47 4.8 4.8 0 01.52 2.14zM24.42 3.74h-2.45v6.9h-1.52v-6.9H18V2.5h6.42v1.24zm2.36 6.9h-1.52V2.48h1.52v8.13zm54.37-6.94h-3.62v2.26h2.85v1.16h-2.84v2.3h3.6v1.2h-5.12V2.5h5.13v1.2zm-39.7 0h-3.62v2.26h2.85v1.16h-2.85v2.3h3.62v1.2H36.3V2.5h5.13v1.2zm2.62 6.93h-1.5V2.5h2.48c.55 0 1 .06 1.42.17.4.12.72.28.97.48.26.2.44.46.56.74.12.3.18.6.18.95a2.24 2.24 0 01-1.03 1.96 2.8 2.8 0 01-.76.36 1.5 1.5 0 01.5.47l2.03 3h-1.37c-.26 0-.44-.1-.56-.3l-1.7-2.6a.6.6 0 00-.2-.2.74.74 0 00-.34-.06h-.65v3.17zm25.97 0h-1.5V2.5h1.5v3.4h.36c.14 0 .26-0 .35-.05a.6.6 0 00.24-.2l2.25-2.84c.1-.12.2-.2.3-.25.1-.05.23-.07.38-.07h1.3L72.5 5.87c-.16.2-.33.35-.5.44.12.04.23.1.33.2.1.08.2.18.3.32l2.82 3.8H74.1a.83.83 0 01-.4-.07.63.63 0 01-.23-.22l-2.3-3a.6.6 0 00-.24-.22c-.1-.04-.23-.06-.4-.06h-.48v3.57zm-2.13 0h-1.17a.5.5 0 01-.32-.1.6.6 0 01-.2-.24l-.6-1.66h-3.37l-.6 1.66a.54.54 0 01-.17.24c-.1.07-.2.1-.33.1h-1.18l3.2-8.13h1.55l3.2 8.13zm-9.62-4.06c0-.45-.06-.85-.18-1.2-.12-.36-.3-.66-.52-.9a2.2 2.2 0 00-.8-.57c-.32-.14-.68-.2-1.07-.2-.4 0-.76.06-1.08.2-.3.13-.58.32-.8.56-.23.25-.4.55-.52.9-.12.36-.18.76-.18 1.2 0 .45.06.85.18 1.2a2.24 2.24 0 001.32 1.47c.32.13.68.2 1.08.2s.75-.07 1.07-.2c.3-.13.58-.32.8-.56.23-.25.4-.55.52-.9.12-.36.18-.76.18-1.2zm6.95 1l-1-2.7a6.14 6.14 0 01-.3-.96 10.83 10.83 0 01-.3.97l-1 2.7h2.6zm-20.2-3.9h-.97v2.7h.95c.28 0 .53-.04.74-.1.2-.08.4-.18.53-.3.13-.13.23-.28.3-.45.07-.17.1-.36.1-.57 0-.4-.13-.73-.4-.95-.28-.22-.7-.33-1.25-.33z" stroke="none"/>
    </g>
  </svg>
</a>








  <ul>
<li>
  <a href="/mockk-guidebook/docs/getting-started/">Getting Started</a>
<ul>
<li>
  <a href="/mockk-guidebook/docs/getting-started/why-mocking/"><del>Why use mocks</del></a></li>
<li>
  <a href="/mockk-guidebook/docs/getting-started/why-mockk/"><del>Why MockK</del></a></li>
</ul>
</li>
<li>
  <a href="/mockk-guidebook/docs/quick/android/">Android Quickstart</a></li>
<li>
  <a href="/mockk-guidebook/docs/mocking/"class=active><strong>Mocking</strong></a>
<ul>
<li>
  <a href="/mockk-guidebook/docs/mocking/stubbing/">Stub out behaviour</a></li>
<li>
  <a href="/mockk-guidebook/docs/mocking/verify/">Verify that functions were called</a></li>
<li>
  <a href="/mockk-guidebook/docs/mocking/relax/">Automatically stub by relaxing</a></li>
<li>
  <a href="/mockk-guidebook/docs/mocking/spy/">Spy on existing classes</a></li>
<li>
  <a href="/mockk-guidebook/docs/mocking/coroutines/">Coroutines and suspend functions</a></li>
<li>
  <a href="/mockk-guidebook/docs/mocking/constructor/">Mock constructors in code you don&rsquo;t own</a></li>
<li>
  <a href="/mockk-guidebook/docs/mocking/static/">Mock singleton objects and static methods</a></li>
<li>
  <a href="/mockk-guidebook/docs/mocking/extension/">Mock top-level and extension functions</a></li>
<li>
  <a href="/mockk-guidebook/docs/mocking/clear/"><del>Clear state</del></a></li>
<li>
  <a href="/mockk-guidebook/docs/mocking/annotation/">Create many mocks quickly with annotations</a></li>
<li>
  <a href="/mockk-guidebook/docs/mocking/hierarchies/"><del>Chain mocks into hierarchies</del></a></li>
<li>
  <a href="/mockk-guidebook/docs/mocking/answers/"><del>Create more complicated answers for stubs</del></a></li>
</ul>
</li>
<li>
  <a href="/mockk-guidebook/docs/matching/"><strong>Argument matching</strong></a>
<ul>
<li>
  <a href="/mockk-guidebook/docs/matching/equal/"><del>Check equality</del></a></li>
<li>
  <a href="/mockk-guidebook/docs/matching/any/"><del>Allow any argument</del></a></li>
<li>
  <a href="/mockk-guidebook/docs/matching/oftype/"><del>Argument of a certain type</del></a></li>
<li>
  <a href="/mockk-guidebook/docs/matching/with/">Assertions with an argument</a></li>
<li>
  <a href="/mockk-guidebook/docs/matching/custom/"><del>Custom matching functions</del></a></li>
<li>
  <a href="/mockk-guidebook/docs/matching/capture/"><del>Capture arguments to check later</del></a></li>
<li>
  <a href="/mockk-guidebook/docs/matching/vararg/"><del>Variable arguments</del></a></li>
<li>
  <a href="/mockk-guidebook/docs/matching/compareto/">Comparables</a></li>
<li>
  <a href="/mockk-guidebook/docs/matching/combine/"><del>Combine matchers</del></a></li>
</ul>
</li>
<li>
  <a href="/mockk-guidebook/docs/mockito-migrate/"><strong>Migrating from Mockito</strong></a>
<ul>
<li>
  <a href="/mockk-guidebook/docs/mockito-migrate/create-mock/">Create a mock</a></li>
<li>
  <a href="/mockk-guidebook/docs/mockito-migrate/when/"><code>when</code> and <code>do*</code></a></li>
<li>
  <a href="/mockk-guidebook/docs/mockito-migrate/eq/"><code>eq</code></a></li>
<li>
  <a href="/mockk-guidebook/docs/mockito-migrate/any/"><code>any*</code></a></li>
<li>
  <a href="/mockk-guidebook/docs/mockito-migrate/verify/"><code>verify</code></a></li>
<li>
  <a href="/mockk-guidebook/docs/mockito-migrate/arg-that/"><del><code>argThat</code></del></a></li>
<li>
  <a href="/mockk-guidebook/docs/mockito-migrate/argument-captor/"><del><code>ArgumentCaptor</code></del></a></li>
<li>
  <a href="/mockk-guidebook/docs/mockito-migrate/void/"><code>void</code> methods</a></li>
</ul>
</li>
<li>
  <a href="/mockk-guidebook/docs/tips/"><strong>TIPs</strong></a>
<ul>
<li>
  <a href="/mockk-guidebook/docs/tips/unit/">Return <code>Unit</code></a></li>
<li>
  <a href="/mockk-guidebook/docs/tips/chains/"><del>Chains</del></a></li>
<li>
  <a href="/mockk-guidebook/docs/tips/timeout/"><del>Timeouts</del></a></li>
<li>
  <a href="/mockk-guidebook/docs/tips/exclude/"><del>Exclude recording</del></a></li>
</ul>
</li>
</ul>






  
<ul>
  
  <li>
    <a href="https://github.com/NotWoods/mockk-guidebook/" target="_blank" rel="noopener">
        Github
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/mockk-guidebook/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Mocking</strong>

  <label for="toc-control">
    
    <img src="/mockk-guidebook/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav id="TableOfContents">
  <ul>
    <li><a href="#mocking">Mocking</a></li>
  </ul>
</nav>


  </aside>
  
 
      </header>

      <div class="dark" data-ea-publisher="notwoodsgithubio-mockk-guidebook" data-ea-type="text"></div>

      
  <article class="markdown"><h1 id="mocking">
  Mocking
  <a class="anchor" href="#mocking">#</a>
</h1>
<p>Mocking start with one call, the <code>mockk</code> function. This function takes in a class and returns a fake version of it, where all functions are present but will throw when called.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">import</span> io.mockk.mockk

<span style="color:#66d9ef">val</span> mockedFile = mockk&lt;File&gt;()
</code></pre></div><dl>

  <dt>
    <a href="/mockk-guidebook/docs/mocking/stubbing/">Stub out behaviour</a>
  </dt>
  <dd>
    Using <code>every</code> and <code>returns</code> to define behaviour.
  </dd>

  <dt>
    <a href="/mockk-guidebook/docs/mocking/verify/">Verify that functions were called</a>
  </dt>
  <dd>
    Using <code>verify</code> to check that a function was used.
  </dd>

  <dt>
    <a href="/mockk-guidebook/docs/mocking/relax/">Automatically stub by relaxing</a>
  </dt>
  <dd>
    How to change the default <code>mockk</code> result with <code>relaxed</code>.
  </dd>

  <dt>
    <a href="/mockk-guidebook/docs/mocking/spy/">Spy on existing classes</a>
  </dt>
  <dd>
    Using <code>spyk</code> to mix mocks and real classes.
  </dd>

  <dt>
    <a href="/mockk-guidebook/docs/mocking/coroutines/">Coroutines and suspend functions</a>
  </dt>
  <dd>
    Using <code>coEvery</code>, <code>coVerify</code>, and more to mock coroutines.
  </dd>

  <dt>
    <a href="/mockk-guidebook/docs/mocking/constructor/">Mock constructors in code you don&#39;t own</a>
  </dt>
  <dd>
    Advanced mocking with <code>mockkConstructor</code>.
  </dd>

  <dt>
    <a href="/mockk-guidebook/docs/mocking/static/">Mock singleton objects and static methods</a>
  </dt>
  <dd>
    Advanced static mocking with <code>mockkStatic</code> and <code>mockkObject</code>.
  </dd>

  <dt>
    <a href="/mockk-guidebook/docs/mocking/extension/">Mock top-level and extension functions</a>
  </dt>
  <dd>
    Mocking top-level functions with <code>mockkStatic</code>.
  </dd>

  <dt>
    <a href="/mockk-guidebook/docs/mocking/clear/">Clear state</a>
  </dt>
  <dd>
    (TODO) Clearing the state of a mock.
  </dd>

  <dt>
    <a href="/mockk-guidebook/docs/mocking/annotation/">Create many mocks quickly with annotations</a>
  </dt>
  <dd>
    The <code>@MockK</code> and <code>@SpyK</code> shortcuts.
  </dd>

  <dt>
    <a href="/mockk-guidebook/docs/mocking/hierarchies/">Chain mocks into hierarchies</a>
  </dt>
  <dd>
    (TODO) Building a mock with less code using lambdas.
  </dd>

  <dt>
    <a href="/mockk-guidebook/docs/mocking/answers/">Create more complicated answers for stubs</a>
  </dt>
  <dd>
    (TODO) Using <code>answers</code> when <code>returns</code> just isn&rsquo;t enough.
  </dd>

</dl>

</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">



  <div><a class="flex align-center" href="https://github.com/NotWoods/mockk-guidebook//commit/7c76b2621c15fab79dbeafcc3b24f9a84a2eed11" title='Last modified by Tiger Oakes | August 5, 2020' target="_blank" rel="noopener">
      <img src="/mockk-guidebook/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>August 5, 2020</span>
    </a>
  </div>



  <div>
    <a class="flex align-center" href="https://github.com/NotWoods/mockk-guidebook//edit/main/content/docs/mocking/_index.md" target="_blank" rel="noopener">
      <img src="/mockk-guidebook/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>

</div>

 
        
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#mocking">Mocking</a></li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  <script src="https://getinsights.io/static/js/insights.js"></script>
<script>
    insights.init("dRGDHrNTA8KoTJ07");
    insights.trackPages();
</script>

</body>

</html>












