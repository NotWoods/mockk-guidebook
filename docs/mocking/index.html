<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Mocking start with one call, the mockk function."><meta name=theme-color content="#343a40"><meta name=color-scheme content="light dark"><title>Mocking | MockK Guidebook</title><link rel=manifest href=/mockk-guidebook/manifest.json><link rel=icon href=/mockk-guidebook/favicon.png sizes=48x48 type=image/png><link rel=icon href=/mockk-guidebook/favicon.svg sizes=any type=image/svg+xml><link rel=stylesheet href=/mockk-guidebook/book.min.66a7ae0ec09df2dfc58bfb0d30143af7a784be481cd37bc1e244295eb417133f.css integrity="sha256-ZqeuDsCd8t/Fi/sNMBQ696eEvkgc03vB4kQpXrQXEz8=" crossorigin=anonymous><script defer src=/mockk-guidebook/flexsearch.min.js></script>
<script defer src=/mockk-guidebook/en.search.min.99c39e9d43bdf78b76af129c099c30895b38649a30a7808aca74a4982ddb4f91.js integrity="sha256-mcOenUO994t2rxKcCZwwiVs4ZJowp4CKynSkmC3bT5E=" crossorigin=anonymous></script><meta name=monetization content="$ilp.uphold.com/p2WKq3nJHA8w"><script defer src=https://media.ethicalads.io/media/client/ethicalads.min.js></script>
<script defer src=/mockk-guidebook/ads.min.js></script>
<script defer src=/mockk-guidebook/keys.min.js></script>
<script src=https://typed-thirtyfive.tigeroakes.com/script.js data-site=BZTAEHGH defer></script><meta property="og:title" content="Mocking"><meta property="og:site_name" content="MockK Guidebook"><meta property="og:type" content="book"><meta property="og:image" content="https://notwoods.github.io/mockk-guidebook/cover/mockk-bike-iso.png"><meta property="og:image:width" content="1280"><meta property="og:image:height" content="640"><meta property="og:url" content="https://notwoods.github.io/mockk-guidebook/docs/mocking/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:creator content="@Not_Woods"><meta name=twitter:title content="Mocking | MockK Guidebook"><meta name=twitter:image content="https://notwoods.github.io/mockk-guidebook/cover/mockk-bike-iso.png"><meta name=twitter:description content="Mocking start with one call, the mockk function."></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control accesskey=*>
<input type=checkbox class="hidden toggle" id=toc-control accesskey=#><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/mockk-guidebook/><span>MockK Guidebook</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><a class=author href=https://tigeroakes.com>Written by<svg xmlns="http://www.w3.org/2000/svg" height="32" viewBox="0 0 80 16"><title>Tiger Oakes</title><g class="logo-icon logo-icon--monochrome"><g fill="none" stroke="currentcolor"><rect width="13" height="13" x="1.5" y="1.5"/><circle class="eye" cx="5" cy="6" r="1.5"/><circle class="eye" cx="11" cy="6" r="1.5"/><path d="M4.5 7.5V11L7 12.5m4.5-4.9V11L9 12.5"/></g><path fill="currentcolor" d="M8 10.6 9.5 9h-3L8 10.6z"/></g><g class="logo-icon logo-icon--color"><rect width="12" height="12" x="2" y="2" fill="#e67237"/><g class="logo-path" fill="none" stroke="#032030"><circle class="eye" cx="5" cy="6" r="1.5"/><circle class="eye" cx="11" cy="6" r="1.5"/><path d="M4.5 7.5V11L7 12.5m4.5-4.9V11L9 12.5"/></g><path fill="#032030" d="M8 10.6 9.5 9h-3L8 10.6z"/></g><clipPath id="i"><path d="M29 8v6h-3V8h3zm0-1h-3V5h3v2z"/></clipPath><g class="text" fill="none" stroke="currentcolor" opacity=".5"><path d="M23.5 13V7l-.5-.5h-3l-.5-.5V5l.5-.5h7"/><path d="M28 13l-.5-.5V6" clip-path="url(#i)"/><path d="M32.5 12.5H30l-.5-.5V8l.5-.5h3l.5.5v7l-.5.5h-3l-.5-.5"/><path d="M36.5 10h2l.5-.5V8l-.5-.5H36l-.5.5v4l.5.5h2.5l.5-.5"/><path d="M40.5 7.5l.5.5v4l.5.5h.5l.5-.5V8l.5-.5h1.5l.5.5"/><path d="M55.5 12.5H51l-.5-.5V5l.5-.5h4l.5.5v6"/><path d="M57.5 8l.5-.5h3l.5.5v4l-.5.5h-3l-.5-.5v-2l.5-.5h2"/><path d="M63 13l.5-.5V4"/><path d="M66.5 6v2l-.5.5h-.5L65 9v1l.5.5h2l.5.5v2"/><path d="M71 10h2l.5-.5V8l-.5-.5h-2.5L70 8v4l.5.5H73l.5-.5"/><path d="M75.5 12l.5.5h3l.5-.5v-1.5L79 10h-3l-.5-.5V8l.5-.5h3l.5.5"/></g><g class="text text-over" fill="none" stroke="currentcolor"><path style="animation-delay:.2s" d="M23.5 13V7l-.5-.5h-3l-.5-.5V5l.5-.5h7"/><path style="animation-delay:.5s" d="M28 13l-.5-.5V6" clip-path="url(#i)"/><path style="animation-delay:.8s" d="M32.5 12.5H30l-.5-.5V8l.5-.5h3l.5.5v7l-.5.5h-3l-.5-.5"/><path style="animation-delay:1.1s" d="M36.5 10h2l.5-.5V8l-.5-.5H36l-.5.5v4l.5.5h2.5l.5-.5"/><path style="animation-delay:1.4s" d="M40.5 7.5l.5.5v4l.5.5h.5l.5-.5V8l.5-.5h1.5l.5.5"/><path style="animation-delay:.2s" d="M55.5 12.5H51l-.5-.5V5l.5-.5h4l.5.5v6"/><path style="animation-delay:.5s" d="M57.5 8l.5-.5h3l.5.5v4l-.5.5h-3l-.5-.5v-2l.5-.5h2"/><path style="animation-delay:.8s" d="M63 13l.5-.5V4"/><path style="animation-delay:1.1s" d="M66.5 6v2l-.5.5h-.5L65 9v1l.5.5h2l.5.5v2"/><path style="animation-delay:1.4s" d="M71 10h2l.5-.5V8l-.5-.5h-2.5L70 8v4l.5.5H73l.5-.5"/><path style="animation-delay:1.7s" d="M75.5 12l.5.5h3l.5-.5v-1.5L79 10h-3l-.5-.5V8l.5-.5h3l.5.5"/></g></svg></a><ul><li><a href=/mockk-guidebook/docs/getting-started/>Getting Started</a><ul><li><a href=/mockk-guidebook/docs/getting-started/why-mocking/>Why use mocks</a></li><li><a href=/mockk-guidebook/docs/getting-started/why-mockk/><del>Why MockK</del></a></li></ul></li><li><a href=/mockk-guidebook/docs/quick/android/>Android Quickstart</a></li><li><a href=/mockk-guidebook/docs/mocking/ class=active><strong>Mocking</strong></a><ul><li><a href=/mockk-guidebook/docs/mocking/stubbing/>Stub out behaviour</a></li><li><a href=/mockk-guidebook/docs/mocking/verify/>Verify that functions were called</a></li><li><a href=/mockk-guidebook/docs/mocking/relax/>Automatically stub by relaxing</a></li><li><a href=/mockk-guidebook/docs/mocking/spy/>Spy on existing classes</a></li><li><a href=/mockk-guidebook/docs/mocking/coroutines/>Coroutines and suspend functions</a></li><li><a href=/mockk-guidebook/docs/mocking/constructor/>Mock constructors in code you don&rsquo;t own</a></li><li><a href=/mockk-guidebook/docs/mocking/static/>Mock singleton objects and static methods</a></li><li><a href=/mockk-guidebook/docs/mocking/extension/>Mock top-level and extension functions</a></li><li><a href=/mockk-guidebook/docs/mocking/clear/><del>Clear state</del></a></li><li><a href=/mockk-guidebook/docs/mocking/annotation/>Create many mocks quickly with annotations</a></li><li><a href=/mockk-guidebook/docs/mocking/hierarchies/><del>Chain mocks into hierarchies</del></a></li><li><a href=/mockk-guidebook/docs/mocking/answers/>Create more complicated answers for stubs</a></li></ul></li><li><a href=/mockk-guidebook/docs/matching/><strong>Argument matching</strong></a><ul><li><a href=/mockk-guidebook/docs/matching/equal/><del>Check equality</del></a></li><li><a href=/mockk-guidebook/docs/matching/any/><del>Allow any argument</del></a></li><li><a href=/mockk-guidebook/docs/matching/oftype/><del>Argument of a certain type</del></a></li><li><a href=/mockk-guidebook/docs/matching/with/>Assertions with an argument</a></li><li><a href=/mockk-guidebook/docs/matching/custom/>Custom matching functions</a></li><li><a href=/mockk-guidebook/docs/matching/capture/><del>Capture arguments to check later</del></a></li><li><a href=/mockk-guidebook/docs/matching/vararg/><del>Variable arguments</del></a></li><li><a href=/mockk-guidebook/docs/matching/compareto/>Comparables</a></li><li><a href=/mockk-guidebook/docs/matching/combine/><del>Combine matchers</del></a></li></ul></li><li><a href=/mockk-guidebook/docs/mockito-migrate/><strong>Migrating from Mockito</strong></a><ul><li><a href=/mockk-guidebook/docs/mockito-migrate/create-mock/>Create a mock</a></li><li><a href=/mockk-guidebook/docs/mockito-migrate/when/><code>when</code> and <code>do*</code></a></li><li><a href=/mockk-guidebook/docs/mockito-migrate/eq/><code>eq</code></a></li><li><a href=/mockk-guidebook/docs/mockito-migrate/any/><code>any*</code></a></li><li><a href=/mockk-guidebook/docs/mockito-migrate/verify/><code>verify</code></a></li><li><a href=/mockk-guidebook/docs/mockito-migrate/arg-that/><code>argThat</code></a></li><li><a href=/mockk-guidebook/docs/mockito-migrate/argument-captor/><code>ArgumentCaptor</code></a></li><li><a href=/mockk-guidebook/docs/mockito-migrate/void/><code>void</code> methods</a></li></ul></li><li><a href=/mockk-guidebook/docs/tips/><strong>Tips</strong></a><ul><li><a href=/mockk-guidebook/docs/tips/unit/>Return <code>Unit</code></a></li><li><a href=/mockk-guidebook/docs/tips/chains/><del>Chains</del></a></li><li><a href=/mockk-guidebook/docs/tips/timeout/><del>Timeouts</del></a></li><li><a href=/mockk-guidebook/docs/tips/exclude/><del>Exclude recording</del></a></li></ul></li><li><a href=/mockk-guidebook/docs/method-index/>Method index</a></li></ul><ul><li><a href=https://github.com/NotWoods/mockk-guidebook/ target=_blank rel=noopener>Github</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/mockk-guidebook/svg/menu.svg class=book-icon alt=Menu></label>
<label for=toc-control><img src=/mockk-guidebook/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#mocking>Mocking</a></li></ul></nav><div class=dark data-ea-publisher=notwoodsgithubio-mockk-guidebook data-ea-type=image id=toc-sidebar-ad data-ea-manual=true></div></aside></header><div class=dark data-ea-publisher=notwoodsgithubio-mockk-guidebook data-ea-type=text id=content-ad data-ea-manual=true></div><article class=markdown><h1 id=mocking>Mocking
<a class=anchor href=#mocking>#</a></h1><p>Mocking start with one call, the <code>mockk</code> function. This function takes in a class and returns a fake version of it, where all functions are present but will throw when called.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>import</span> io.mockk.mockk
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> mockedFile = mockk&lt;File&gt;()
</span></span></code></pre></div><dl><dt><a href=/mockk-guidebook/docs/mocking/stubbing/>Stub out behaviour</a></dt><dd class=markdown-inner>Using <code>every</code> and <code>returns</code> to define behaviour.</dd><dt><a href=/mockk-guidebook/docs/mocking/verify/>Verify that functions were called</a></dt><dd class=markdown-inner>Using <code>verify</code> to check that a function was used.</dd><dt><a href=/mockk-guidebook/docs/mocking/relax/>Automatically stub by relaxing</a></dt><dd class=markdown-inner>How to change the default <code>mockk</code> result with <code>relaxed</code>.</dd><dt><a href=/mockk-guidebook/docs/mocking/spy/>Spy on existing classes</a></dt><dd class=markdown-inner>Using <code>spyk</code> to mix mocks and real classes.</dd><dt><a href=/mockk-guidebook/docs/mocking/coroutines/>Coroutines and suspend functions</a></dt><dd class=markdown-inner>Using <code>coEvery</code>, <code>coVerify</code>, and more to mock coroutines.</dd><dt><a href=/mockk-guidebook/docs/mocking/constructor/>Mock constructors in code you don't own</a></dt><dd class=markdown-inner>Advanced mocking with <code>mockkConstructor</code>.</dd><dt><a href=/mockk-guidebook/docs/mocking/static/>Mock singleton objects and static methods</a></dt><dd class=markdown-inner>Advanced static mocking with <code>mockkStatic</code> and <code>mockkObject</code>.</dd><dt><a href=/mockk-guidebook/docs/mocking/extension/>Mock top-level and extension functions</a></dt><dd class=markdown-inner>Mocking top-level functions with <code>mockkStatic</code>.</dd><dt><a href=/mockk-guidebook/docs/mocking/clear/>Clear state</a></dt><dd class=markdown-inner>(TODO) Clearing the state of a mock.</dd><dt><a href=/mockk-guidebook/docs/mocking/annotation/>Create many mocks quickly with annotations</a></dt><dd class=markdown-inner>The <code>@MockK</code> and <code>@SpyK</code> shortcuts.</dd><dt><a href=/mockk-guidebook/docs/mocking/hierarchies/>Chain mocks into hierarchies</a></dt><dd class=markdown-inner>(TODO) Building a mock with less code using lambdas.</dd><dt><a href=/mockk-guidebook/docs/mocking/answers/>Create more complicated answers for stubs</a></dt><dd class=markdown-inner>Using <code>answers</code> when <code>returns</code> just isn&rsquo;t enough.</dd></dl></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/NotWoods/mockk-guidebook//commit/66b85ce26d5d627c77bf58d21aaabb24fc6279ce title='Last modified by Tiger Oakes | June 8, 2022' target=_blank rel=noopener><img src=/mockk-guidebook/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 8, 2022</span></a></div><div><a class="flex align-center" href=https://github.com/NotWoods/mockk-guidebook//edit/main/content/docs/mocking/_index.md target=_blank rel=noopener><img src=/mockk-guidebook/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script><a class=kofi href=https://ko-fi.com/O4O645BF3 target=_blank><img height=36 width=141 style=height:36px;width:141px loading=lazy src="https://cdn.ko-fi.com/cdn/kofi2.png?v=2" alt="Buy Me a Coffee at ko-fi.com"></a></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#mocking>Mocking</a></li></ul></nav><div class=dark data-ea-publisher=notwoodsgithubio-mockk-guidebook data-ea-type=image id=toc-sidebar-ad data-ea-manual=true></div></div></aside></main></body></html>